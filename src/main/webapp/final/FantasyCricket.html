<div ng-include="'final/innerNavbar.html'"></div>
<div class="row" ng-if="ratingExceedAlert">
  <div class="alert alert-danger alert-dismissible" style="top: auto; position: absolute; width: min-content;">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <strong>Danger!</strong> Your combined players ratings can't exceed 100
  </div>
</div>
<div class="row" ng-if="userElevenError">
  <div class="alert alert-danger alert-dismissible" style="z-index:999;">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close" ng-click="hideError()"><span aria-hidden="true">&times;</span></button>
    Need {{ playersRequired }} more player(s) to play a match.
  </div>
</div>
<div class="container" style="padding-top: 150px;">
    <div class="row">
        <div class="col-lg-12">
	    <ul class="list-inline">
	        <li><strong>Play Against: </strong></li>
	        <li ng-repeat="team in teams">
	            <a ng-click="setPlayAgainst(team.country_id)" class="btn" ng-class="{'active': team.country_id == selectedTeam}" title="{{ team.description }}">
	                <img ng-src="{{team.small_flag_path}}" style="width: 30px; height: 18px;"/>
	            </a>
	        </li>
	    </ul>
	    </div>
    </div>
	<div class="row">
	<div class="col-md-6" style="border-right: 1px solid #ddd;">
		<uib-tabset active="active">
		    <uib-tab index="0" heading="Batsmen">
		    	<div style="max-height: 400px; overflow-y: scroll;">
			    	<table class="table table-striped">
		    			<thead>
		    				<th>Name</th>
		    				<th>Nationality</th>
		    				<th>Rating</th>
		    				<th></th>
		    			</thead>
		    			<tbody>
		    				<tr ng-repeat="player in players | filter: {role: 'batsman'}" ng-class="{'success': player.pushed}">
		    					<td>
		    						<span><img src="images/fonts/batsman.svg" style="width: 12px; height: 12px;"/></span>
		    						{{ player.firstName }} {{ player.lastName }}
		    					</td>
		    					<td>India</td>
		    					<td>{{ player.rating }}</td>
		    					<td>
		    						<span ng-if="!player.pushed && !disableBatsmen">
		    							<button class="btn-link" ng-click="addToEleven(player)"><i class="fa fa-plus-square" aria-hidden="true"></i></button>
		    						</span>
		    						<span ng-if="player.pushed">
		    							<button class="btn-link" ng-click="removeFromEleven(player)"><i class="fa fa-trash" aria-hidden="true"></i></button>
		    						</span>
		    					</td>
		    				</tr>
		    			</tbody>
		    		</table>
	    		</div>
		    </uib-tab>
    		<uib-tab index="1" heading="All-Rounders">
      			<div style="max-height: 400px; overflow-y: scroll;">
			    	<table class="table table-striped">
		    			<thead>
		    				<th>Name</th>
		    				<th>Nationality</th>
		    				<th>Rating</th>
		    				<th></th>
		    			</thead>
		    			<tbody>
		    				<tr ng-repeat="player in players | filter: {role: 'all-rounder'}" ng-class="{'success': player.pushed}">
		    					<td>
		    						<span><img src="images/fonts/batsman.svg" style="width: 12px; height: 12px;"/></span>
		    						{{ player.firstName }} {{ player.lastName }}
		    					</td>
		    					<td>India</td>
		    					<td>{{ player.rating }}</td>
		    					<td>
		    						<span ng-if="!player.pushed && !disableAllRounders">
		    							<button class="btn-link" ng-click="addToEleven(player)"><i class="fa fa-plus-square" aria-hidden="true"></i></button>
		    						</span>
		    						<span ng-if="player.pushed">
		    							<button class="btn-link" ng-click="removeFromEleven(player)"><i class="fa fa-trash" aria-hidden="true"></i></button>
		    						</span>
		    					</td>
		    				</tr>
		    			</tbody>
		    		</table>
	    		</div>
   			</uib-tab>
    		<uib-tab index="2" heading="Wicket-Keepers">
      			<div style="max-height: 400px; overflow-y: scroll;">
			    	<table class="table table-striped">
		    			<thead>
		    				<th>Name</th>
		    				<th>Nationality</th>
		    				<th>Rating</th>
		    				<th></th>
		    			</thead>
		    			<tbody>
		    				<tr ng-repeat="player in players | filter: {role: 'wicketkeeper'}" ng-class="{'success': player.pushed}">
		    					<td>
		    						<span><img src="images/fonts/batsman.svg" style="width: 12px; height: 12px;"/></span>
		    						{{ player.firstName }} {{ player.lastName }}
		    					</td>
		    					<td>India</td>
		    					<td>{{ player.rating }}</td>
		    					<td>
		    						<span ng-if="!player.pushed && !disableWicketkeepers">
		    							<button class="btn-link" ng-click="addToEleven(player)"><i class="fa fa-plus-square" aria-hidden="true"></i></button>
		    						</span>
		    						<span ng-if="player.pushed">
		    							<button class="btn-link" ng-click="removeFromEleven(player)"><i class="fa fa-trash" aria-hidden="true"></i></button>
		    						</span>
		    					</td>
		    				</tr>
		    			</tbody>
		    		</table>
	    		</div>
   			</uib-tab>
   			<uib-tab index="3" heading="Bowlers">
      			<div style="max-height: 400px; overflow-y: scroll;">
			    	<table class="table table-striped">
		    			<thead>
		    				<th>Name</th>
		    				<th>Nationality</th>
		    				<th>Rating</th>
		    				<th></th>
		    			</thead>
		    			<tbody>
		    				<tr ng-repeat="player in players | filter: {role: 'bowler'}" ng-class="{'success': player.pushed}">
		    					<td>
		    						<span><img src="images/fonts/batsman.svg" style="width: 12px; height: 12px;"/></span>
		    						{{ player.firstName }} {{ player.lastName }}
		    					</td>
		    					<td>India</td>
		    					<td>{{ player.bowlingRating }}</td>
		    					<td>
		    						<span ng-if="!player.pushed && !disableBowlers">
		    							<button class="btn-link" ng-click="addToEleven(player)"><i class="fa fa-plus-square" aria-hidden="true"></i></button>
		    						</span>
		    						<span ng-if="player.pushed">
		    							<button class="btn-link" ng-click="removeFromEleven(player)"><i class="fa fa-trash" aria-hidden="true"></i></button>
		    						</span>
		    					</td>
		    				</tr>
		    			</tbody>
		    		</table>
	    		</div>
   			</uib-tab>
		</uib-tabset>
	</div>
	<div class="col-md-6">
		<div class="col-xs-5">
			<div class="row">
				<div class="col-xs-12" style="padding: 10px; padding-right: 0;">
					<input type="input" ng-model="userEleven.teamName" class="form-control"/>
				</div>
			</div>
			<div class="row" ng-repeat="selectedPlayer in userEleven">
				<div class="col-xs-12" style="padding: 5px; padding-right: 0;">
					{{ $index + 1 }}. {{ selectedPlayer.firstName }} {{ selectedPlayer.lastName }}
				</div>
			</div>
		</div>
		<div class="col-xs-2">
			<div class="row">
				<div class="col-xs-12" style="padding: 5px; padding-right: 0;">
					<strong>vs</strong>
				</div>
			</div>
		</div>
		<div class="col-xs-5">
		    <div class="row">
				<div class="col-xs-12" style="padding: 10px; padding-right: 0;">
					<strong>India</strong>
				</div>
			</div>
			<div class="row" ng-repeat="computerPlayer in computerPlayers">
                <div class="col-xs-12" style="padding: 5px; padding-right: 0;">
                    {{ $index + 1 }}. {{ computerPlayer.firstName }} {{ computerPlayer.lastName }}
                </div>
            </div>
		</div>
	</div>
	</div>
	<div class="row" ng-if="showScoreboard && team1">
		<div class="col-md-6" style="margin-top: 50px;">
			<table class="table table-striped">
				<thead class="black-header">
					<tr>
						<th>Batsmen</th>
						<th></th>
						<th>Runs</th>
						<th>Balls</th>
						<th>4s</th>
						<th>6s</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="battingDetails in team1">
						<td>{{ battingDetails.batsmanInfo }}</td>
						<td>{{ battingDetails.assistedBy }}</td>
						<td>{{ battingDetails.runsScored }}</td>
						<td>{{ battingDetails.ballsFaced }}</td>
						<td>{{ battingDetails.foursHit }}</td>
						<td>{{ battingDetails.sixesHit }}</td>
					</tr>
					<tr>
						<td colspan="3"><strong>Total</strong></td>
						<td colspan="3">{{ team1Score }}</td>
					</tr>
					<tr>
						<td colspan="6">
							Fall Of Wickets: 
							<span ng-repeat="fow in team1Fow">
							{{fow.fow}}
							</span>
						</td>
					</tr>
				</tbody>
			</table>
			<table class="table table-striped">
				<thead class="black-header">
					<tr>
						<th style="color: white;">Bowling</th>
						<th style="color: white;">Overs</th>
						<th style="color: white;">Maidens</th>
						<th style="color: white;">Runs</th>
						<th style="color: white;">Wickets</th>
						<th style="color: white;">Wide</th>
						<th style="color: white;">No Ball</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="bowlerDetails in team1BowlerDetails">
						<td>{{ bowlerDetails.name }}</td>
						<td>{{ bowlerDetails.overs }}</td>
						<td>0</td>
						<td>{{ bowlerDetails.runsGiven }}</td>
						<td>{{ bowlerDetails.wickets }}</td>
						<td>{{ bowlerDetails.wides }}</td>
						<td>{{ bowlerDetails.nobs }}</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="col-md-6" style="margin-top: 50px;">
			<table class="table table-striped">
				<thead class="black-header">
					<tr>
						<th>Batsmen</th>
						<th></th>
						<th>Runs</th>
						<th>Balls</th>
						<th>4s</th>
						<th>6s</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="battingDetails in team2">
						<td>{{ battingDetails.batsmanInfo }}</td>
						<td>{{ battingDetails.assistedBy }}</td>
						<td>{{ battingDetails.runsScored }}</td>
						<td>{{ battingDetails.ballsFaced }}</td>
						<td>{{ battingDetails.foursHit }}</td>
						<td>{{ battingDetails.sixesHit }}</td>
					</tr>
					<tr>
						<td colspan="3">Total</td>
						<td colspan="3">{{ team2Score }}</td>
					</tr>
					<tr>
						<td colspan="6">
							Fall Of Wickets: 
							<span ng-repeat="fow in team2Fow">
							{{fow.fow}}
							</span>
						</td>
					</tr>
				</tbody>
			</table>
			<table class="table table-striped">
				<thead class="black-header">
					<tr>
						<th>Bowling</th>
						<th>Overs</th>
						<th>Maidens</th>
						<th>Runs</th>
						<th>Wickets</th>
						<th>Wide</th>
						<th>No Ball</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="bowlerDetails in team2BowlerDetails">
						<td>{{ bowlerDetails.name }}</td>
						<td>{{ bowlerDetails.overs }}</td>
						<td>0</td>
						<td>{{ bowlerDetails.runsGiven }}</td>
						<td>{{ bowlerDetails.wickets }}</td>
						<td>{{ bowlerDetails.wides }}</td>
						<td>{{ bowlerDetails.nobs }}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
    <div class="panel panel-default">
       <div class="panel-body">
           <div class="row" ng-if="!tossPreference">
                <div class="col-lg-6">
                    <div class="col-xs-10">
                        <strong>Current Combined Rating : {{ rating }}</strong>
                    </div>
                    <div class="col-xs-2">
                        <button type="button" class="btn btn-primary" ng-click="playCricket(userEleven, computerPlayers)">Let's Play!</button>
                    </div>
                </div>
           </div>
           <div class="row" ng-if="tossPreference">
                <div class="col-lg-6">
                    <div class="col-xs-6">
                        <strong>{{ tossMessage }}</strong>
                    </div>
                    <div class="col-xs-3" ng-if="wonBy == 'user' && !team1">
                        <button type="button" class="btn btn-primary btn-lg btn-block" ng-click="playCricket(userEleven, computerPlayers, 'bat')">Bat</button>
                    </div>
                    <div class="col-xs-3" ng-if="wonBy == 'user' && !team1">
                        <button type="button" class="btn btn-primary btn-lg btn-block" ng-click="playCricket(userEleven, computerPlayers, 'bowl')">Bowl</button>
                    </div>
                    <div class="col-xs-2" ng-if="wonBy == 'computer' && !team1">
                        <button type="button" class="btn btn-primary" ng-click="playCricket(userEleven, computerPlayers, 'bat')">Let's Play!</button>
                    </div>
                    <div class="col-xs-2" ng-if="team1">
                        <button type="button" class="btn btn-primary" ng-click="playCricket(userEleven, computerPlayers)">Let's Play Again!</button>
                    </div>
                </div>
           </div>
       </div>
    </div>
</div>